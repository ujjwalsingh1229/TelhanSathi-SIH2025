<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§ñ‡•á‡§§ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§∏‡•á‡§ü‡§Ö‡§™ - Sahayak</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5fdf8 0%, #eef9f5 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        .container {
            width: 100%;
            max-width: 600px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2d5016 0%, #3d6b1f 100%);
            padding: 40px 24px;
            color: white;
            text-align: center;
            display: none;
        }

        .header.show {
            display: block;
        }

        .logo {
            width: 64px;
            height: 64px;
            margin: 0 auto 16px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .logo img {
            width: 48px;
            height: 48px;
            object-fit: cover;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 4px;
        }

        .header .time-note {
            font-size: 12px;
            opacity: 0.75;
            margin-top: 12px;
        }

        .content {
            padding: 32px 24px;
            min-height: 0;
            display: flex;
            flex-direction: column;
        }

        .step {
            display: none;
            flex-direction: column;
            gap: 20px;
        }

        .step.active {
            display: flex;
        }

        .step h2 {
            font-size: 22px;
            font-weight: 700;
            color: #1a3d0a;
            line-height: 1.3;
        }

        .step .subtitle {
            font-size: 14px;
            color: #666;
            margin-top: -12px;
        }

        /* Crop Grid - 2 Columns */
        .crop-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .crop-card {
            background: #f8fdf9;
            border: 2px solid #e0e8e1;
            border-radius: 12px;
            padding: 20px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .crop-card:hover {
            border-color: #2d5016;
            background: #f0f8f2;
        }

        .crop-card.selected {
            background: #2d5016;
            border-color: #2d5016;
            color: white;
        }

        .crop-card img {
            width: 52px;
            height: 52px;
            object-fit: contain;
        }

        .crop-card .label {
            font-size: 13px;
            font-weight: 600;
            color: #333;
        }

        .crop-card.selected .label {
            color: white;
        }

        /* Water Type Chips */
        .water-chips {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .chip {
            padding: 14px 16px;
            border: 2px solid #e0e8e1;
            border-radius: 10px;
            background: #f8fdf9;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            text-align: center;
            transition: all 0.2s ease;
        }

        .chip:hover {
            border-color: #2d5016;
            background: #f0f8f2;
        }

        .chip.selected {
            background: #2d5016;
            border-color: #2d5016;
            color: white;
        }

        /* Soil Grid - 3 Columns */
        .soil-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
        }

        .soil-card {
            background: #f8fdf9;
            border: 2px solid #e0e8e1;
            border-radius: 12px;
            padding: 18px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .soil-card:hover {
            border-color: #2d5016;
            background: #f0f8f2;
        }

        .soil-card.selected {
            background: #2d5016;
            border-color: #2d5016;
            color: white;
        }

        .soil-card img {
            width: 48px;
            height: 48px;
            object-fit: contain;
        }

        .soil-card .label {
            font-size: 13px;
            font-weight: 600;
            color: #333;
        }

        .soil-card.selected .label {
            color: white;
        }

        /* Input Fields */
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-group label {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        input[type="text"],
        input[type="number"],
        input[type="date"],
        select {
            padding: 12px 14px;
            border: 2px solid #e0e8e1;
            border-radius: 10px;
            font-size: 14px;
            font-family: 'Poppins', sans-serif;
            transition: border 0.2s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="date"]:focus,
        select:focus {
            outline: none;
            border-color: #2d5016;
            background: #f8fdf9;
        }

        /* Range Slider */
        .range-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .range-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .range-value {
            font-size: 18px;
            font-weight: 700;
            color: #2d5016;
        }

        .unit-toggle {
            display: flex;
            gap: 6px;
            background: #f0f0f0;
            padding: 4px;
            border-radius: 8px;
        }

        .unit-btn {
            padding: 6px 10px;
            background: transparent;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
        }

        .unit-btn.active {
            background: white;
            color: #2d5016;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e0e8e1;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #2d5016;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(45, 80, 22, 0.3);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #2d5016;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(45, 80, 22, 0.3);
        }

        /* Select Dropdowns */
        .select-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 16px;
            align-items: center;
        }

        .btn {
            padding: 14px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;
        }

        .btn-primary {
            background: #2d5016;
            color: white;
            flex: 1;
            font-size: 15px;
            padding: 16px 20px;
        }

        .btn-primary:hover:not(:disabled) {
            background: #245010;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 80, 22, 0.2);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-icon {
            background: transparent;
            color: #2d5016;
            padding: 10px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 44px;
            min-height: 44px;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .btn-icon:hover {
            background: #f0f8f2;
        }

        .material-icons {
            font-size: 24px;
            vertical-align: middle;
        }

        /* Loading State */
        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 24px;
            padding: 40px 24px;
            text-align: center;
        }

        .pulse {
            width: 60px;
            height: 60px;
            background: #2d5016;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.6;
                transform: scale(1.1);
            }
        }

        .loading-text {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .loading-note {
            font-size: 13px;
            color: #999;
        }

        /* Success State */
        .success-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            padding: 40px 24px;
            text-align: center;
        }

        .success-icon {
            width: 60px;
            height: 60px;
            background: #2d5016;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
        }

        .success-title {
            font-size: 20px;
            font-weight: 700;
            color: #1a3d0a;
        }

        .success-text {
            font-size: 14px;
            color: #666;
        }

        /* Navigation */
        .nav-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            border-top: 1px solid #e8e8e8;
            background: #fafafa;
            gap: 12px;
        }

        .progress-bar {
            height: 3px;
            background: #e0e8e1;
        }

        .progress-fill {
            height: 100%;
            background: #2d5016;
            transition: width 0.3s ease;
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 24px;
            }

            .crop-grid,
            .water-chips,
            .soil-grid {
                gap: 10px;
            }

            .btn-primary {
                font-size: 14px;
                padding: 14px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Header only shown on first step -->
        <div class="header show" id="headerSection">
            <div class="logo">
                <img src="static/img/agri_logo.jpg" alt="Sahayak">
            </div>
            <h1>‡§®‡§Æ‡§∏‡•ç‡§§‡•á ‡§ï‡§ø‡§∏‡§æ‡§® ‡§ú‡•Ä! üôè</h1>
            <p>‡§Ü‡§á‡§è ‡§Ö‡§™‡§®‡•á ‡§ñ‡•á‡§§ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§¨‡§®‡§æ‡§è‡§Ç</p>
            <div class="time-note">‡§≤‡§ó‡§≠‡§ó 3-4 ‡§Æ‡§ø‡§®‡§ü ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§∞‡§æ ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡§æ</div>
        </div>

        <!-- Content -->
        <div class="content">
            <!-- Step 1: Welcome -->
            <div class="step active" data-step="0">
                <button class="btn btn-primary" style="margin-top: 20px;" onclick="goToStep(1)">
                    ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç
                    <span class="material-icons">arrow_forward</span>
                </button>
            </div>

            <!-- Step 1: Crop Selection -->
            <div class="step" data-step="1">
                <h2>‡§Ü‡§™ ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§§‡•á‡§≤ ‡§µ‡§æ‡§≤‡•Ä ‡§´‡§∏‡§≤ ‡§≤‡§ó‡§æ‡§§‡•á ‡§π‡•à‡§Ç?</h2>
                <p class="subtitle">‡§Ö‡§™‡§®‡•Ä ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§´‡§∏‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç</p>
                
                <div class="crop-grid">
                    <div class="crop-card" onclick="selectCrop(this, 'soybean')">
                        <div style="font-size: 40px;">üå±</div>
                        <div class="label">‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®</div>
                    </div>
                    <div class="crop-card" onclick="selectCrop(this, 'mustard')">
                        <div style="font-size: 40px;">üåæ</div>
                        <div class="label">‡§∏‡§∞‡§∏‡•ã‡§Ç</div>
                    </div>
                    <div class="crop-card" onclick="selectCrop(this, 'sunflower')">
                        <div style="font-size: 40px;">üåª</div>
                        <div class="label">‡§∏‡•Ç‡§∞‡§ú‡§Æ‡•Å‡§ñ‡•Ä</div>
                    </div>
                    <div class="crop-card" onclick="selectCrop(this, 'safflower')">
                        <div style="font-size: 40px;">üå∏</div>
                        <div class="label">‡§ï‡•Å‡§∏‡•Å‡§Æ</div>
                    </div>
                    <div class="crop-card" onclick="selectCrop(this, 'groundnut')">
                        <div style="font-size: 40px;">ü•ú</div>
                        <div class="label">‡§Æ‡•Ç‡§Ç‡§ó‡§´‡§≤‡•Ä</div>
                    </div>
                    <div class="crop-card" onclick="selectCrop(this, 'cotton')">
                        <div style="font-size: 40px;">ü§ç</div>
                        <div class="label">‡§ï‡§™‡§æ‡§∏</div>
                    </div>
                    <div class="crop-card" onclick="selectCrop(this, 'sesame')">
                        <div style="font-size: 40px;">üåª</div>
                        <div class="label">‡§§‡§ø‡§≤</div>
                    </div>
                    <div class="crop-card" onclick="selectCrop(this, 'castor')">
                        <div style="font-size: 40px;">üåø</div>
                        <div class="label">‡§Ö‡§∞‡§Ç‡§°‡•Ä</div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Land & Irrigation -->
            <div class="step" data-step="2">
                <h2>‡§Ü‡§™‡§ï‡•á ‡§ñ‡•á‡§§ ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ ‡§ï‡§ø‡§§‡§®‡§æ ‡§π‡•à?</h2>
                
                <div class="range-group">
                    <div class="range-display">
                        <span class="range-value" id="acreDisplay">2 ‡§è‡§ï‡§°‡§º</span>
                        <div class="unit-toggle">
                            <button class="unit-btn active" onclick="changeUnit(this, 'acre')">‡§è‡§ï‡§°‡§º</button>
                            <button class="unit-btn" onclick="changeUnit(this, 'hectare')">‡§π‡•á‡§ï‡•ç‡§ü‡•á‡§Ø‡§∞</button>
                            <button class="unit-btn" onclick="changeUnit(this, 'bigha')">‡§¨‡•Ä‡§ò‡§æ</button>
                        </div>
                    </div>
                    <input type="range" id="sizeRange" min="0.5" max="50" step="0.5" value="2" oninput="updateSize()">
                </div>

                <h2 style="margin-top: 20px;">‡§Ü‡§™‡§ï‡•á ‡§ñ‡•á‡§§ ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§®‡•Ä ‡§ï‡•à‡§∏‡§æ ‡§π‡•à? üíß</h2>
                <div class="water-chips">
                    <div class="chip" onclick="selectWater(this, 'freshwater')">‡§§‡§æ‡§ú‡§æ ‡§™‡§æ‡§®‡•Ä</div>
                    <div class="chip" onclick="selectWater(this, 'saltwater')">‡§ñ‡§æ‡§∞‡§æ ‡§™‡§æ‡§®‡•Ä</div>
                </div>

                <div class="input-group" style="margin-top: 16px;">
                    <label>‡§Ü‡§™‡§ï‡§æ ‡§ú‡§ø‡§≤‡§æ (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)</label>
                    <input type="text" id="districtInput" placeholder="‡§ú‡•à‡§∏‡•á: ‡§á‡§Ç‡§¶‡•å‡§∞, ‡§®‡§æ‡§ó‡§™‡•Å‡§∞">
                </div>
            </div>

            <!-- Step 3: Harvest Timing -->
            <div class="step" data-step="3">
                <h2>‡§ï‡§ü‡§æ‡§à ‡§ï‡§¨ ‡§§‡§ï ‡§π‡•ã‡§®‡•á ‡§ï‡•Ä ‡§â‡§Æ‡•ç‡§Æ‡•Ä‡§¶ ‡§π‡•à? üåæ</h2>
                <p class="subtitle">‡§á‡§∏‡§∏‡•á ‡§π‡§Æ ‡§Ö‡§ó‡§≤‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§¶‡•á ‡§∏‡§ï‡•á‡§Ç‡§ó‡•á</p>
                
                <div class="select-row">
                    <div class="input-group">
                        <label>‡§Æ‡§π‡•Ä‡§®‡§æ</label>
                        <select id="harvestMonth">
                            <option>‡§ú‡§®‡§µ‡§∞‡•Ä</option>
                            <option>‡§´‡§∞‡§µ‡§∞‡•Ä</option>
                            <option>‡§Æ‡§æ‡§∞‡•ç‡§ö</option>
                            <option>‡§Ö‡§™‡•ç‡§∞‡•à‡§≤</option>
                            <option>‡§Æ‡§à</option>
                            <option>‡§ú‡•Ç‡§®</option>
                            <option>‡§ú‡•Å‡§≤‡§æ‡§à</option>
                            <option>‡§Ö‡§ó‡§∏‡•ç‡§§</option>
                            <option>‡§∏‡§ø‡§§‡§Ç‡§¨‡§∞</option>
                            <option selected>‡§Ö‡§ï‡•ç‡§ü‡•Ç‡§¨‡§∞</option>
                            <option>‡§®‡§µ‡§Ç‡§¨‡§∞</option>
                            <option>‡§¶‡§ø‡§∏‡§Ç‡§¨‡§∞</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>‡§∏‡§æ‡§≤</label>
                        <select id="harvestYear">
                            <option>2025</option>
                            <option selected>2026</option>
                            <option>2027</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Step 4: Soil Type -->
            <div class="step" data-step="4">
                <h2>‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡§ø‡§∏ ‡§§‡§∞‡§π ‡§ï‡•Ä ‡§π‡•à? üåç</h2>
                <p class="subtitle">‡§Ö‡§™‡§®‡•á ‡§ñ‡•á‡§§ ‡§ï‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§¨‡§®‡§æ‡§µ‡§ü ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§è‡§ï ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç</p>
                
                <div class="soil-grid">
                    <div class="soil-card" onclick="selectSoil(this, 'black')">
                        <div style="font-size: 44px;">‚¨õ</div>
                        <div class="label">‡§ï‡§æ‡§≤‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä</div>
                    </div>
                    <div class="soil-card" onclick="selectSoil(this, 'sandy')">
                        <div style="font-size: 44px;">üü®</div>
                        <div class="label">‡§¨‡§≤‡•Å‡§à ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä</div>
                    </div>
                    <div class="soil-card" onclick="selectSoil(this, 'clay')">
                        <div style="font-size: 44px;">üü´</div>
                        <div class="label">‡§ö‡§ø‡§ï‡§®‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä</div>
                    </div>
                </div>
            </div>

            <!-- Step 5: Loading -->
            <div class="step" data-step="5">
                <div class="loading-container">
                    <div class="pulse"></div>
                    <div class="loading-text">‡§Ü‡§™‡§ï‡•Ä ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§¨‡§®‡§æ‡§à ‡§ú‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à...</div>
                    <div class="loading-note">‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§∏ ‡§ï‡•Å‡§õ ‡§ï‡•ç‡§∑‡§£ ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§∞‡§æ ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡§æ</div>
                </div>
            </div>

            <!-- Step 6: Success -->
            <div class="step" data-step="6">
                <div class="success-container">
                    <div class="success-icon">‚úì</div>
                    <div class="success-title">‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ! üéâ</div>
                    <div class="success-text">‡§Ü‡§™‡§ï‡•Ä ‡§ñ‡•á‡§§ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã ‡§ó‡§à ‡§π‡•à‡•§ ‡§Ö‡§¨ ‡§Ü‡§™ Sahayak ‡§ï‡•Ä ‡§∏‡§≠‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç ‡§≤‡•á ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§</div>
                </div>
            </div>
        </div>

        <!-- Navigation bar with back and next buttons -->
        <div class="nav-bar">
            <button class="btn-icon" id="backBtn" onclick="goToStep(currentStep - 1)" style="display: none;">
                <span class="material-icons">arrow_back</span>
            </button>
            <div id="stepCounter" style="font-size: 13px; color: #999; flex: 1; text-align: center;"></div>
            <button class="btn btn-primary" id="nextBtn" style="display: none; flex: 1;" onclick="goToStep(currentStep + 1)">
                ‡§Ö‡§ó‡§≤‡§æ <span class="material-icons">arrow_forward</span>
            </button>
        </div>
    </div>

    <script>
        let currentStep = 0;
        let totalSteps = 7;
        let selectedCrop = null;
        let selectedWater = null;
        let selectedSoil = null;

        function goToStep(step) {
            // Validation
            if (step === 1 && currentStep === 0) {
                currentStep = step;
            } else if (step === 2 && currentStep === 1 && !selectedCrop) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§´‡§∏‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç');
                return;
            } else if (step === 3 && currentStep === 2 && !selectedWater) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç');
                return;
            } else if (step === 4 && currentStep === 3) {
                currentStep = step;
            } else if (step === 5 && currentStep === 4 && !selectedSoil) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç');
                return;
            } else if (step === 5) {
                currentStep = step;
                loadingStart();
                return;
            } else if (step >= 0 && step < totalSteps) {
                currentStep = step;
            } else {
                return;
            }

            updateUI();
        }

        function updateUI() {
            // Update steps
            document.querySelectorAll('.step').forEach((step, index) => {
                step.classList.remove('active');
            });
            document.querySelector([data-step="${currentStep}"]).classList.add('active');

            // Update header visibility
            const headerSection = document.getElementById('headerSection');
            if (currentStep === 0) {
                headerSection.classList.add('show');
            } else {
                headerSection.classList.remove('show');
            }

            // Update navigation
            const backBtn = document.getElementById('backBtn');
            const nextBtn = document.getElementById('nextBtn');
            const stepCounter = document.getElementById('stepCounter');

            if (currentStep === 0 || currentStep === 5 || currentStep === 6) {
                backBtn.style.display = 'none';
                nextBtn.style.display = 'none';
                stepCounter.innerHTML = '';
            } else {
                backBtn.style.display = 'flex';
                stepCounter.innerHTML = ‡§ö‡§∞‡§£ ${currentStep} ‡§Æ‡•á‡§Ç ‡§∏‡•á 4;
                
                if (currentStep === 4) {
                    nextBtn.innerHTML = '‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç <span class="material-icons">check</span>';
                    nextBtn.style.display = 'flex';
                } else {
                    nextBtn.innerHTML = '‡§Ö‡§ó‡§≤‡§æ <span class="material-icons">arrow_forward</span>';
                    nextBtn.style.display = 'flex';
                }
            }

            // Update progress bar
            const progress = (currentStep / (totalSteps - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function selectCrop(element, crop) {
            document.querySelectorAll('.crop-card').forEach(card => card.classList.remove('selected'));
            element.classList.add('selected');
            selectedCrop = crop;
        }

        function selectWater(element, water) {
            document.querySelectorAll('.water-chips .chip').forEach(chip => chip.classList.remove('selected'));
            element.classList.add('selected');
            selectedWater = water;
        }

        function selectSoil(element, soil) {
            document.querySelectorAll('.soil-grid .soil-card').forEach(card => card.classList.remove('selected'));
            element.classList.add('selected');
            selectedSoil = soil;
        }

        function changeUnit(element, unit) {
            document.querySelectorAll('.unit-btn').forEach(btn => btn.classList.remove('active'));
            element.classList.add('active');
            updateSize();
        }

        function updateSize() {
            const range = document.getElementById('sizeRange');
            const display = document.getElementById('acreDisplay');
            const value = parseFloat(range.value);
            const activeUnit = document.querySelector('.unit-btn.active').textContent.trim();

            let convertedValue, unitLabel;
            if (activeUnit === '‡§è‡§ï‡§°‡§º') {
                convertedValue = value;
                unitLabel = '‡§è‡§ï‡§°‡§º';
            } else if (activeUnit === '‡§π‡•á‡§ï‡•ç‡§ü‡•á‡§Ø‡§∞') {
                convertedValue = (value * 0.4047).toFixed(1);
                unitLabel = '‡§π‡•á‡§ï‡•ç‡§ü‡•á‡§Ø‡§∞';
            } else {
                convertedValue = (value * 1.65).toFixed(1);
                unitLabel = '‡§¨‡•Ä‡§ò‡§æ';
            }

            display.textContent = ${convertedValue} ${unitLabel};
        }

        function loadingStart() {
            setTimeout(() => {
                goToStep(6);
                setTimeout(() => {
                    window.location.href = '/';
                }, 2000);
            }, 2000);
        }

        // Initialize
        updateUI();
    </script>
</body>
</html>